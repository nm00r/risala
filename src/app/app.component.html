<div class="app-container" [class.login-page]="!showLayout">
  <!-- Layout مع Header و Sidebar للصفحات الداخلية فقط -->
  <ng-container *ngIf="showLayout">
    <!-- Header -->
    <app-header (toggleSidebar)="toggleSidebar()"></app-header>
    
    <div class="main-layout">
      <!-- Sidebar -->
      <app-sidebar 
        [class.open]="isSidebarOpen"
        [isOpen]="isSidebarOpen"
        (menuItemSelected)="onMenuItemSelected($event)">
      </app-sidebar>
      
      <!-- Overlay for mobile -->
      <div 
        class="sidebar-overlay" 
        [class.show]="isSidebarOpen && isMobile"
        (click)="closeSidebar()">
      </div>
      
      <!-- Main Content Area -->
      <main class="content-area" [class.sidebar-open]="isSidebarOpen && !isMobile">
        <router-outlet></router-outlet>
      </main>
    </div>
  </ng-container>

  <!-- Layout بدون Header و Sidebar لصفحات Login/Register -->
  <ng-container *ngIf="!showLayout">
    <router-outlet></router-outlet>
  </ng-container>
</div>